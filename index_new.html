<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金猪刷新监控系统</title>
    
    <!-- 外部样式文件 -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>金猪刷新监控系统 <span class="gold-pig">🐷</span></h1>
            <p class="subtitle">监控每条线路的金猪状态，标记击杀后自动开始24小时倒计时</p>
        </header>
        
        <div class="dashboard">
            <div class="controls">
                <div class="panel-title">
                    ℹ️
                    <h2>操作面板 <span class="status-indicator status-active"></span></h2>
                </div>
                
                <div class="instructions">
                    <h3>📖 使用说明</h3>
                    <ul>
                        <li class="desktop-instruction">
                            🖱️
                            <span class="highlight">左键单击线路格子</span> - 标记金猪被击杀（开始24小时倒计时）
                        </li>
                        <li class="desktop-instruction">
                            👆
                            <span class="highlight">右键单击线路格子</span> - 标记金猪被击杀但不知时间
                        </li>
                        <li class="mobile-instruction">
                            📱
                            <span class="highlight">点击线路格子</span> - 标记金猪被击杀（开始24小时倒计时）
                        </li>
                        <li class="mobile-instruction">
                            👆
                            <span class="highlight">快速三连击线路格子</span> - 标记金猪被击杀但不知时间
                        </li>
                        <li>
                            🔄
                            <span class="highlight">双击红色/橙色格子</span> - 取消击杀状态和倒计时
                        </li>
                        <li>
                            🔄
                            倒计时结束后线路自动变为<span class="highlight">绿色</span>可用状态
                        </li>
                        <li>
                            💾
                            所有数据自动保存在浏览器中，关闭浏览器后仍可恢复
                        </li>
                        <li>
                            🕐
                            重新打开浏览器时自动恢复倒计时
                        </li>
                        <li>
                            ⏰
                            <span class="highlight">"只重置倒计时状态"</span> - 清除所有线路标记但保留历史统计
                        </li>
                    </ul>
                </div>
                
                <div class="status-info">
                    <div class="status-item">
                        <div class="status-color status-1"></div>
                        <span>可用状态 - 金猪可能存在</span>
                    </div>
                    <div class="status-item">
                        <div class="status-color status-2"></div>
                        <span>击杀状态 - 24小时倒计时中</span>
                    </div>
                    <div class="status-item">
                        <div class="status-color status-3"></div>
                        <span>刷新状态 - 金猪已刷新</span>
                    </div>
                    <div class="status-item">
                        <div class="status-color status-4"></div>
                        <span>倒计时 - 剩余时间显示</span>
                    </div>
                    <div class="status-item">
                        <div class="status-color status-5"></div>
                        <span>未知时间 - 击杀但不知具体时间</span>
                    </div>
                </div>
                
                <button class="action-btn reset" onclick="resetAll()">
                    🗑️ 完全重置系统
                </button>
                
                <button class="action-btn reset-timers" onclick="resetTimersOnly()">
                    ⏰ 只重置倒计时状态
                </button>
                
                <button class="action-btn" onclick="toggleTestMode()" id="test-mode-btn">
                    🧪 切换测试模式（10秒倒计时）
                </button>
                
                <div class="notes-container">
                    <label class="notes-label" for="notes-input">📝 备注记录：</label>
                    <textarea class="notes-input" id="notes-input" placeholder="在这里记录你的备注信息，比如特殊发现、规律总结等..."></textarea>
                </div>
            </div>
            
            <div class="flex-container">
                <div class="chart-container">
                    <div class="chart-header">
                        <div class="chart-title">📊 击杀统计图表</div>
                        <div class="chart-tabs">
                            <div class="chart-tab active" data-chart="daily">每日击杀</div>
                            <div class="chart-tab" data-chart="total">总击杀数</div>
                            <div class="chart-tab" data-chart="hourly">24小时分布</div>
                        </div>
                    </div>
                    <div class="chart-box">
                        <canvas id="stats-chart"></canvas>
                    </div>
                </div>
                
                <div class="stats">
                    <div class="panel-title">
                        📈
                        <h2>统计信息</h2>
                    </div>
                    
                    <div class="stat-cards">
                        <div class="stat-card">
                            <div class="stat-value" id="killed-count">0</div>
                            <div class="stat-label">🔴 击杀中</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="killed-unknown-count">0</div>
                            <div class="stat-label">🟠 未知时间</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="refreshed-count">0</div>
                            <div class="stat-label">🟢 已刷新</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="available-count">0</div>
                            <div class="stat-label">⚪ 可用</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="today-count">0</div>
                            <div class="stat-label">📅 今日击杀</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="table-container">
            <div class="scroll-hint">
                ⬅️ 向左滑动查看更多线路 ➡️
            </div>
            <table id="line-table">
                <tr>
                    <th>A</th><th>B</th><th>C</th><th>D</th><th>E</th><th>F</th><th>G</th><th>H</th>
                    <th>I</th><th>J</th><th>K</th><th>L</th><th>M</th><th>N</th><th>O</th><th>P</th>
                    <th>Q</th><th>R</th><th>S</th><th>T</th>
                </tr>
            </table>
        </div>
        
        <footer>
            <p>🔄 系统状态：<span id="status">运行中</span> | 最后更新：<span id="last-update">--:--:--</span></p>
            <p>⚠️ 提示：数据存储在浏览器本地，关闭浏览器后重新打开会恢复倒计时</p>
            <p>👤 制作人：<span class="highlight">Mikogo</span> | 💬 联系QQ：<span class="highlight">1013859513</span></p>
        </footer>
    </div>

    <!-- 手机端操作提示 -->
    <div class="mobile-hint">
        📱 点击格子标记击杀，三连击标记不知时间
    </div>

    <!-- JavaScript 模块 -->
    <script type="module" src="js/app.js"></script>
</body>
</html>
